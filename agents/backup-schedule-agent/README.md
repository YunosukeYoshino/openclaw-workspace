# Backup Schedule Agent

バックアップスケジュールエージェント - 定期バックアップの管理

## 概要

Backup Schedule Agentは、スケジュールされたバックアップの管理、履歴追跡、リテンションポリシーを管理するためのエージェントです。

## 機能

### バックアップスケジュール
- スケジュールの作成と管理
- スケジュールタイプ（daily/weekly/monthly/hourly）
- 有効/無効の切り替え
- 保存期間の設定

### バックアップジョブ
- ジョブの実行と追跡
- ステータス管理（pending/running/completed/failed）
- バックアップサイズの記録
- 成功/失敗の追跡

### バックアップターゲット
- ターゲットの登録と管理
- ターゲットタイプ（database/file/directory）
- 優先度設定

### ログ
- バックアップログの記録
- ログレベル（info/warning/error/debug）
- スケジュール別のログ表示

### リテンションポリシー
- 日次/週次/月次/年次リテンションの設定
- バックアップタイプ別ポリシー

## 使い方

### スケジュール追加
```
スケジュール追加 名前:DB Daily タイプ:database パス:/data/db スケジュール:daily 時間:02:00
```

### スケジュール一覧
```
スケジュール一覧
```

### バックアップ実行
```
バックアップ実行 ID:1
```

### スケジュール有効化
```
スケジュール有効 ID:1
```

### サマリー表示
```
サマリー表示
```

## テーブル構造

### backup_schedules
- スケジュール名、ターゲットタイプ、パス、スケジュールタイプ、スケジュール値、バックアップタイプ、圧縮、保存期間、有効フラグ

### backup_jobs
- スケジュールID、ステータス、開始時間、完了時間、バックアップサイズ、バックアップパス、エラーメッセージ、成功フラグ

### backup_targets
- ターゲットタイプ、名前、パス、説明、優先度

### backup_logs
- スケジュールID、ログレベル、メッセージ、詳細、タイムスタンプ

### retention_policies
- ポリシー名、バックアップタイプ、日次/週次/月次/年次リテンション、メモ

## データベース

SQLiteベースで、`backup_schedule.db`ファイルにデータが保存されます。
